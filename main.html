<!doctype html>
<html>
	<head>
		<title>Hierarchy visualiser</title>

		<style type="text/css">
			html, body 
			{
				font: 11pt arial;
			}

			h1 
			{
			    font-size: 150%;
			    margin: 5px 0;
			}

			h2 
			{
			    font-size: 100%;
			    margin: 5px 0;
			}

			table.view {
			    width: 100%;
			}

			table td {
			    vertical-align: top;
			}

			table table {
			    background-color: #f5f5f5;
			    border: 1px solid #e5e5e5;
			}

			table table td {
			    vertical-align: middle;
			}

			input[type=text], pre {
			    border: 1px solid lightgray;
			}

			pre {
			    margin: 0;
			    padding: 5px;
			    font-size: 10pt;
			}

			#networkHierarchy {
			    width: 100%;
			    height: 400px;
			    border: 1px solid lightgray;
			}
			#info {
			    width: 100%;
			    height: 400px;
			    border: 1px solid lightgray;
			}
		</style>

		<script type="text/javascript" src="http://visjs.org/dist/vis.js"></script>
		<script type="text/javascript" src="http://visjs.org/dist/exampleUtils.js"></script>
		<link href="http://visjs.org/dist/vis.css" rel="stylesheet" type="text/css" />

		<script type="text/javascript">
			var nodes, edges, edgesMouseOver, networkHierarchy, networkMouseOver;


			function toJSON(obj) 
			{
				return JSON.stringify(obj, null, 4);
			}

			function addNodeFromInput() 
			{
				try 
				{
					nodes.add(
					{
						id: document.getElementById('node-id').value,
						label: document.getElementById('node-label').value,
						level: document.getElementById('node-level').value,
						shape: 'dot',
						color: {background:'white', border:'black'} ,
						font: {background: 'white'}
					});
				}
				catch (err) 
				{
					alert(err);
				}
			}
		
			function addNode(idIn, labelIn, levelIn) 
			{
				try
				{
					nodes.add(
					{
						id: idIn,
						label: labelIn,
						level: levelIn,
						shape: 'dot',  
						color: {background:'white', border:'black'},
						font: {background: 'white'}						
					});
				}
				catch (err) 
				{
					alert(err);
				}
			}

			function updateNodeFromInput() 
			{
				try 
				{
					nodes.update({
						id: document.getElementById('node-id').value,
						label: document.getElementById('node-label').value});
				}
				catch (err)
				{
					alert(err);
				}
			}
		
			function updateNode(idIn, labelIn) 
			{
				try {
					nodes.update({
					    id: idIn,
					    label: labelIn
					});
				}
				catch (err)
				{
					alert(err);
				}
			}

		
			function removeNodeFromInput() 
			{
				try 
				{
					nodes.remove({id: document.getElementById('node-id').value});
				}
				catch (err)
				{
					alert(err);
				}
			}
			
			function removeNode(idIn) 
			{
				try 
				{
					nodes.remove({id: idIn});
				}
				catch (err) 
				{
					alert(err);
				}
			}

			function addEdgeFromInput()
			{
				try 
				{
					edges.add({
						id: document.getElementById('edge-id').value,
						from: document.getElementById('edge-from').value,
						to: document.getElementById('edge-to').value
						});
				}
				catch (err) 
				{
					alert(err);
				}
			}
			
			function addEdge(idIn, fromIn, toIn)
			{
				try 
				{
					edges.add({
						id: idIn,
						from: fromIn,
						to: toIn,
						});
				}
				catch (err) 
				{
					alert(err);
				}
			}
		
			function updateEdgeFromInput()
			{
				try 
				{
					edges.update({
						id: document.getElementById('edge-id').value,
						from: document.getElementById('edge-from').value,
						to: document.getElementById('edge-to').value
					});
				}
				catch (err) 
				{
					alert(err);
				}
			}
			
			function updateEdge(idIn, fromIn, inTo)
			{
				try 
				{
					edges.update({
						id: idIn,
						from: fromIn,
						to: inTo
					});
				}
				catch (err) 
				{
					alert(err);
				}
			}
			
			
			function removeEdgeFromInput() 
			{
				try 
				{
					edges.remove({id: document.getElementById('edge-id').value});
				}
				catch (err) 
				{
					alert(err);
				}
			}
			
			function removeEdge(idIn)
			{
				try 
				{
					edges.remove({id: idIn});
				}
				catch (err)
				{
					alert(err);
				}
			}

			function draw() 
			{
				nodes = new vis.DataSet();
				
				nodes.on('*', function () 
				{
					//document.getElementById('nodes').innerHTML = JSON.stringify(nodes.get(), null, 4);
				});
				
				nodes.add([
				//level 1
					{id: '1', label: 'Node 1', level: '1' , shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
				//level 2	
					{id: '2', label: 'Node 2', level: '2', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '3', label: 'Node 3', level: '2', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
				//level 3
					{id: '4', label: 'Node 4', level: '3', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '5', label: 'Node 5', level: '3', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '6', label: 'Node 6', level: '3', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '7', label: 'Node 7', level: '3', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
				//level 4
					{id: '8', label: 'Node 8', level: '4', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '9', label: 'Node 9', level: '4', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '10', label: 'Node 10', level: '4', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '11', label: 'Node 11', level: '4', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '12', label: 'Node 12', level: '4', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '13', label: 'Node 13', level: '4', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '14', label: 'Node 14', level: '4', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '15', label: 'Node 15', level: '4', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
				//level 5
					{id: '16', label: 'Node 16', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '17', label: 'Node 17', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '18', label: 'Node 18', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '19', label: 'Node 19', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '20', label: 'Node 20', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '21', label: 'Node 21', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '22', label: 'Node 22', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '23', label: 'Node 23', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					
					{id: '24', label: 'Node 24', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '25', label: 'Node 25', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '26', label: 'Node 26', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '27', label: 'Node 27', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '28', label: 'Node 28', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '29', label: 'Node 29', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '30', label: 'Node 30', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
					{id: '31', label: 'Node 31', level: '5', shape: 'dot',  color: {background:'white', border:'black'} ,font: {background: 'white'}},
				]);

				edges = new vis.DataSet();
				edgesMouseOver = new vis.DataSet();
				edges.on('*', function () 
				{
					//document.getElementById('edges').innerHTML = JSON.stringify(edges.get(), null, 4);
				});
				
				edges.add([
					{id: '1', from: '1', to: '2'},
					{id: '2', from: '1', to: '3'},
					
					{id: '3', from: '2', to: '4'},
					{id: '4', from: '2', to: '5'},
					{id: '5', from: '3', to: '6'},
					{id: '6', from: '3', to: '7'},
					
					{id: '7', from: '4', to: '8'},
					{id: '8', from: '4', to: '9'},
					{id: '9', from: '5', to: '10'},
					{id: '10', from: '5', to: '11'},
					{id: '11', from: '6', to: '12'},
					{id: '12', from: '6', to: '13'},
					{id: '13', from: '7', to: '14'},
					{id: '14', from: '7', to: '15'},
					
					{id: '15', from: '8', to: '16'},
					{id: '16', from: '8', to: '17'},
					{id: '17', from: '9', to: '18'},
					{id: '18', from: '9', to: '19'},
					{id: '19', from: '10', to: '20'},
					{id: '20', from: '10', to: '21'},					
					{id: '21', from: '11', to: '22'},
					{id: '22', from: '11', to: '23'},					
					{id: '23', from: '12', to: '24'},
					{id: '24', from: '12', to: '25'},					
					{id: '25', from: '13', to: '26'},
					{id: '26', from: '13', to: '27'},
					{id: '27', from: '14', to: '28'},
					{id: '28', from: '14', to: '29'},					
					{id: '29', from: '15', to: '30'},
					{id: '30', from: '15', to: '31'},
				]);
				
				edgesMouseOver	.add([
					{id: '1', from: '1', to: '2', hidden: 'true'},
					{id: '2', from: '1', to: '3', hidden: 'true'},
					
					{id: '3', from: '2', to: '4', hidden: 'true'},
					{id: '4', from: '2', to: '5', hidden: 'true'},
					{id: '5', from: '3', to: '6', hidden: 'true'},
					{id: '6', from: '3', to: '7', hidden: 'true'},
					
					{id: '7', from: '4', to: '8', hidden: 'true'},
					{id: '8', from: '4', to: '9', hidden: 'true'},
					{id: '9', from: '5', to: '10', hidden: 'true'},
					{id: '10', from: '5', to: '11', hidden: 'true'},
					{id: '11', from: '6', to: '12', hidden: 'true'},
					{id: '12', from: '6', to: '13', hidden: 'true'},
					{id: '13', from: '7', to: '14', hidden: 'true'},
					{id: '14', from: '7', to: '15', hidden: 'true'},
					
					{id: '15', from: '8', to: '16', hidden: 'true'},
					{id: '16', from: '8', to: '17', hidden: 'true'},
					{id: '17', from: '9', to: '18', hidden: 'true'},
					{id: '18', from: '9', to: '19', hidden: 'true'},
					{id: '19', from: '10', to: '20', hidden: 'true'},
					{id: '20', from: '10', to: '21', hidden: 'true'},				
					{id: '21', from: '11', to: '22', hidden: 'true'},
					{id: '22', from: '11', to: '23', hidden: 'true'},				
					{id: '23', from: '12', to: '24', hidden: 'true'},
					{id: '24', from: '12', to: '25', hidden: 'true'},				
					{id: '25', from: '13', to: '26', hidden: 'true'},
					{id: '26', from: '13', to: '27', hidden: 'true'},
					{id: '27', from: '14', to: '28', hidden: 'true'},
					{id: '28', from: '14', to: '29', hidden: 'true'},				
					{id: '29', from: '15', to: '30', hidden: 'true'},
					{id: '30', from: '15', to: '31', hidden: 'true'},
				//same line
					{id: 's1', from: '2', to: '3'},		
					{id: 's2', from: '4', to: '5'},						
					{id: 's3', from: '6', to: '7'},
					{id: 's4', from: '8', to: '9'},
					{id: 's5', from: '10', to: '11'},
					{id: 's6', from: '12', to: '13'},					
					{id: 's7', from: '14', to: '15'},
					{id: 's8', from: '16', to: '17'},
					{id: 's9', from: '18', to: '19'},
					{id: 's10', from: '20', to: '21'},
					{id: 's11', from: '22', to: '23'},
					{id: 's12', from: '24', to: '25'},
					{id: 's13', from: '26', to: '27'},
					{id: 's14', from: '28', to: '29'},	
					{id: 's15', from: '30', to: '31'},			
				]);

				
				var options = 
				{
					interaction: { navigationButtons: true,  keyboard: true},
					layout: {hierarchical: {direction: 'UD'}}, 
					nodes: {borderWidth: 2}, 
					edges: {width: 2},
					physics: {enabled: false},
					interaction:{hover:true},
				};
				
				var data = 
				{
					nodes: nodes,
					edges: edges
				};
				
				var dataMouseOver = 
				{
					nodes: nodes,
					edges: edgesMouseOver
				};
				
				var container = document.getElementById('networkHierarchy');
				networkHierarchy = new vis.Network(container, data, options);
				
				var container2 = document.getElementById('networkSameLevel');
				networkMouseOver = new vis.Network(container2, dataMouseOver, options);
				
				networkHierarchy.on("hoverNode", function (params) 
				{
	
					//document.getElementById("para").innerHTML = "Hello World";

				});
			}
		</script>
		<script src="../../googleAnalytics.js"></script>
	</head>

<body onload="draw();">
<h1>Adjust</h1>
<table>
    <tr>
        <td>
            <h2>Node</h2>
            <table>
                <tr>
                    <td></td>
                    <td><label for="node-id">Id</label></td>
                    <td><input id="node-id" type="text" value="6"></td>
                </tr>
                <tr>
                    <td></td>
                    <td><label for="node-label">Label</label></td>
                    <td><input id="node-label" type="text" value="Node 6"></td>
                </tr>
		<tr>
                    <td></td>
                    <td><label for="node-level">Level</label></td>
                    <td><input id="node-level" type="text" value="Node 6"></td>
                </tr>
                <tr>
                    <td></td>
                    <td>Action</td>
                    <td>
                        <button id="node-add" onclick="addNodeFromInput() ;">Add</button>
                        <button id="node-update" onclick="updateNodeFromInput() ;">Update</button>
                        <button id="node-remove" onclick="removeNodeFromInput() ;">Remove</button>
                    </td>
                </tr>
            </table>
        </td>
        <td>
            <h2>Edge</h2>
            <table>
                <tr>
                    <td></td>
                    <td><label for="edge-id">Id</label></td>
                    <td><input id="edge-id" type="text" value="5"></td>
                </tr>
                <tr>
                    <td></td>
                    <td><label for="edge-from">From</label></td>
                    <td><input id="edge-from" type="text" value="3"></td>
                </tr>
                <tr>
                    <td></td>
                    <td><label for="edge-to">To</label></td>
                    <td><input id="edge-to" type="text" value="4"></td>
                </tr>
                <tr>
                    <td></td>
                    <td>Action</td>
                    <td>
                        <button id="edge-add" onclick="addEdgeFromInput();">Add</button>
                        <button id="edge-update" onclick="updateEdgeFromInput();">Update</button>
                        <button id="edge-remove" onclick="removeEdgeFromInput();">Remove</button>
                    </td>
                </tr>
            </table>
        </td>
    </tr>

</table>

<table class="view">
    <colgroup>
        <col width="50%">
	<col width="50%">
    </colgroup>
    <tr>
        <td>
            <h2>Network</h2>

            <div id="networkHierarchy"></div>
        </td>
	
	<td>
            <h2>Info</h2>
		
            <div id="info">
		<div id="networkSameLevel"></div>
	    </div>
        </td>
    </tr>
</table>

</body>
</html>
